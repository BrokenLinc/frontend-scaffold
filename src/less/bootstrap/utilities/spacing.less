// stylelint-disable declaration-no-important

// Margin and Padding

& {
  .utility;
  .utility(sm);
  .utility(md);
  .utility(lg);
  .utility(xl);

  .utility() {
    .infixed();
  }

  .utility(@breakpoint) {
    @mq: ~'@{breakpoint}-up';
    @media @@mq {
      .infixed(~'-@{breakpoint}');
    }
  }

  .infixed(@infix: ~'') {
    .infixed(@infix, margin, m);
    .infixed(@infix, padding, p);

    // Some special margin utils
    .m@{infix}-auto { margin: auto !important; }
    .mt@{infix}-auto,
    .my@{infix}-auto {
      margin-top: auto !important;
    }
    .mr@{infix}-auto,
    .mx@{infix}-auto {
      margin-right: auto !important;
    }
    .mb@{infix}-auto,
    .my@{infix}-auto {
      margin-bottom: auto !important;
    }
    .ml@{infix}-auto,
    .mx@{infix}-auto {
      margin-left: auto !important;
    }
  }

  .infixed(@infix, @prop, @abbrev) {
    .infixed(@infix, @prop, @abbrev, 0, @spacer-0);
    .infixed(@infix, @prop, @abbrev, 1, @spacer-1);
    .infixed(@infix, @prop, @abbrev, 2, @spacer-2);
    .infixed(@infix, @prop, @abbrev, 3, @spacer-3);
    .infixed(@infix, @prop, @abbrev, 4, @spacer-4);
    .infixed(@infix, @prop, @abbrev, 5, @spacer-5);
  }

  .infixed(@infix, @prop, @abbrev, @size, @length) {
    .@{abbrev}@{infix}-@{size} { @{prop}: @length !important; }
    .@{abbrev}t@{infix}-@{size},
    .@{abbrev}y@{infix}-@{size} {
      @{prop}-top: @length !important;
    }
    .@{abbrev}r@{infix}-@{size},
    .@{abbrev}x@{infix}-@{size} {
      @{prop}-right: @length !important;
    }
    .@{abbrev}b@{infix}-@{size},
    .@{abbrev}y@{infix}-@{size} {
      @{prop}-bottom: @length !important;
    }
    .@{abbrev}l@{infix}-@{size},
    .@{abbrev}x@{infix}-@{size} {
      @{prop}-left: @length !important;
    }
  }
}
